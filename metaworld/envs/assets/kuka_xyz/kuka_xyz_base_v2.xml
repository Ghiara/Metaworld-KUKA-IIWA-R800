<?xml version="1.0" encoding="utf-8"?>


<mujoco model='kuka'>

  <!-- copied from sawyer_xyz_base -->
  <camera pos="0 0.2 3.2" name="topview" />
  <geom name="tableTop" type="plane" pos="0 0.6 0" size="0.4 0.4 0.5"
    rgba=".6 .6 .5 0" contype="1" conaffinity="1" friction="2 0.1 0.002" material="light_wood_v3"/>

  <geom class="collision" name='kuka_base_table' type="box" rgba="1 1 1 0.8" size=".2 .2 .4565" pos="0 0 -.4565" />
  <body name="kuka_link_0">
  <!-- <body name="kuka_link_0", pos="0 0 0"> -->
    <!-- <geom class="collision" type="mesh" mesh="kuka_link_0_mesh"/> -->
    <geom class="visual" type="mesh" mesh="kuka_link_0_mesh" material="kuka_grey"/>

    <body name="kuka_link_1" pos="0 0 0">
      <joint name="kuka_joint_1" axis="0 0 1" limited="true" range="-2.96705972839 2.96705972839" armature="1" damping="50" frictionloss="0" stiffness="10" />
      <inertial euler="0 0 0" pos="0 -0.035 0.271" mass="3.4821" diaginertia="0.02076 0.02179 0.00779"/>
      <geom class="collision" type="mesh" mesh="kuka_link_1_mesh" />
      <geom class="visual" type="mesh" mesh="kuka_link_1_mesh" material="kuka_grey"/>

      <body name="kuka_link_2"  pos="0 0 0">
        <joint name="kuka_joint_2" axis="0 1 0" limited="true" range="-2.09439510239 2.09439510239" pos="0 0 0.34" armature="1" damping="50" frictionloss="0" stiffness="10"/>
        <inertial euler="0 0 0" pos="0 0.34 0.407" mass="4.05623" diaginertia="0.03204 0.00972 0.03042"/>
        <geom class="collision" type="mesh" mesh="kuka_link_2_mesh"/>
        <geom class="visual" type="mesh" mesh="kuka_link_2_mesh" material="kuka_orange"/>

        <body name="kuka_link_3"  pos="0 0 0">
          <joint name="kuka_joint_3" axis="0 0 1" limited="true" range="-2.96705972839 2.96705972839" armature="1" damping="50" frictionloss="0" stiffness="10"/>
          <inertial euler="0 0 0" pos="0 0.03 0.651" mass="3.4822" diaginertia="0.02178 0.02075 0.007785"/>
          <geom class="collision" type="mesh" mesh="kuka_link_3_mesh"/>
          <geom class="visual" type="mesh" mesh="kuka_link_3_mesh" material="kuka_grey"/>

          <body name="kuka_link_4"  pos="0 0 0">
            <joint name="kuka_joint_4" axis="0 -1 0" limited="true" range="-2.09439510239 2.09439510239" pos="0 0 0.74" armature="1" damping="50" frictionloss="0" stiffness="10"/>
            <inertial euler="0 0 0" pos="0 -0.034 0.807" mass="2.1633" diaginertia="0.01287  0.005708  0.01112"/>
            <geom class="collision" type="mesh" mesh="kuka_link_4_mesh"/>
            <geom class="visual" type="mesh" mesh="kuka_link_4_mesh" material="kuka_orange"/>

            <body name="kuka_link_5"  pos="0 0 0">
              <joint name="kuka_joint_5" axis="0 0 1" limited="true" range="-2.96705972839 2.96705972839" armature="1" damping="50" frictionloss="0" stiffness="10"/>
              <inertial euler="0 0 0" pos="0.0 -0.021 1" mass="2.3466" diaginertia="0.006509 0.006259 0.004527"/>
              <geom class="collision" type="mesh" mesh="kuka_link_5_mesh"/>
              <geom class="visual" type="mesh" mesh="kuka_link_5_mesh" material="kuka_grey"/>

              <body name="kuka_link_6" pos="0 0 0">
                <joint name="kuka_joint_6" axis="0 1 0" limited="true" range="-2.09439510239 2.09439510239" pos="0 0 1.14" armature="1" damping="50" frictionloss="0" stiffness="10"/>
                <inertial euler="0 0 0" pos="0 0.0004 1.142" mass="2" diaginertia="0.01464 0.01465 0.002872"/>
                <geom class="collision" type="mesh" mesh="kuka_link_6_mesh"/>
                <geom class="visual" type="mesh" mesh="kuka_link_6_mesh" material="kuka_orange"/>

                <body name="kuka_link_7"  pos="0 0 0" >
                  <joint name="kuka_joint_7" axis="0 0 1" limited="true" range="-3.05432619099 3.05432619099" armature="1" damping="50" frictionloss="0" stiffness="10"/>
                  <inertial euler="0 0 0" pos="0 0 1.241" mass="1.129" diaginertia="0.001 0.001 0.001"/>
                  <geom class="collision" type="mesh" mesh="kuka_link_7_mesh"/>
                  <geom class="visual" type="mesh" mesh="kuka_link_7_mesh" material="kuka_grey"/>
                  
                  <!-- =============== robotic gripper =============== -->
                  <body name="base_mount" pos="0 0 1.268" euler="0 0 0" childclass="2f85">
                    <body name="hand" pos="0 0 0.16" euler="0 0 0">
                      <site name="hand" pos="0.0 0 0.0" size="0.005" rgba='0 1 0 0.5' />
                    </body>
                    <body name="endEffector" pos="0 0 0.16" euler="0 0 0" >
                      <site name="endEffector" pos="0 0 0" quat="1 0 0 0" rgba="0.0 1 0.0 0.5" size="0.005"/>
                    </body>

                    <geom class="gripper_visual" mesh="base_mount" material="black"/>
                    <geom class="gripper_collision" mesh="base_mount"/>
                    <body name="base" pos="0 0 0.0038" quat="1 0 0 -1">
                      <inertial mass="0.777441" pos="0 -2.70394e-05 0.0354675" quat="1 -0.00152849 0 0"
                        diaginertia="0.000260285 0.000225381 0.000152708"/>
                      <geom class="gripper_visual" mesh="base" material="black"/>
                      <geom class="gripper_collision" mesh="base"/>
                      <site name="pinch" pos="0 0 0.145" type="sphere" group="5" rgba="0.9 0.9 0.9 1" size="0.005"/>
                      <!-- Right-hand side 4-bar linkage -->
                      <body name="right_driver" pos="0 0.0306011 0.054904">
                        <inertial mass="0.00899563" pos="2.96931e-12 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                          diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                        <joint name="right_driver_joint" class="driver"/>
                        <geom class="gripper_visual" mesh="driver" material="gray"/>
                        <geom class="gripper_collision" mesh="driver"/>
                        <body name="right_coupler" pos="0 0.0315 -0.0041">
                          <inertial mass="0.0140974" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"
                            diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                          <joint name="right_coupler_joint" class="coupler"/>
                          <geom class="gripper_visual" mesh="coupler" material="black"/>
                          <geom class="gripper_collision" mesh="coupler"/>
                        </body>
                      </body>
                      <body name="right_spring_link" pos="0 0.0132 0.0609">
                        <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658" quat="0.663403 -0.244737 0.244737 0.663403"
                          diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                        <joint name="right_spring_link_joint" class="spring_link"/>
                        <geom class="gripper_visual" mesh="spring_link" material="black"/>
                        <geom class="gripper_collision" mesh="spring_link"/>
                        <body name="right_follower" pos="0 0.055 0.0375">
                          <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                            diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                          <joint name="right_follower_joint" class="follower"/>
                          <geom class="gripper_visual" mesh="follower" material="black"/>
                          <geom class="gripper_collision" mesh="follower"/>

                          <body name="right_pad" pos="0 -0.0189 0.01352">
                            <geom class="pad_box1" name="right_pad1"/>
                            <geom class="pad_box2" name="right_pad2"/>
                            <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="0.707107 0 0 0.707107"
                              diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                            <geom class="gripper_visual" mesh="pad"/>
                            <body name="right_silicone_pad">
                              <site name="rightEndEffector" pos="0 0 0.03" size="0.008" rgba="0.0 1.0 0.0 0"/>
                              <geom class="gripper_visual" mesh="silicone_pad" material="black"/>
                            </body>
                          </body>
                        </body>
                      </body>
                      <!-- Left-hand side 4-bar linkage -->
                      <body name="left_driver" pos="0 -0.0306011 0.054904" quat="0 0 0 1">
                        <inertial mass="0.00899563" pos="0 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                          diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                        <joint name="left_driver_joint" class="driver"/>
                        <geom class="gripper_visual" mesh="driver" material="gray"/>
                        <geom class="gripper_collision" mesh="driver"/>
                        <body name="left_coupler" pos="0 0.0315 -0.0041">
                          <inertial mass="0.0140974" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"
                            diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                          <joint name="left_coupler_joint" class="coupler"/>
                          <geom class="gripper_visual" mesh="coupler" material="black"/>
                          <geom class="gripper_collision" mesh="coupler"/>
                        </body>
                      </body>
                      <body name="left_spring_link" pos="0 -0.0132 0.0609" quat="0 0 0 1">
                        <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658" quat="0.663403 -0.244737 0.244737 0.663403"
                          diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                        <joint name="left_spring_link_joint" class="spring_link"/>
                        <geom class="gripper_visual" mesh="spring_link" material="black"/>
                        <geom class="gripper_collision" mesh="spring_link"/>
                        <body name="left_follower" pos="0 0.055 0.0375">
                          <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                            diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                          <joint name="left_follower_joint" class="follower"/>
                          <geom class="gripper_visual" mesh="follower" material="black"/>
                          <geom class="gripper_collision" mesh="follower"/>
                          
                          <body name="left_pad" pos="0 -0.0189 0.01352">
                            <geom class="pad_box1" name="left_pad1"/>
                            <geom class="pad_box2" name="left_pad2"/>
                            <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="1 0 0 1"
                              diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                            <geom class="gripper_visual" mesh="pad"/>
                            <body name="left_silicone_pad">
                              <site name="leftEndEffector" pos="0 0 0.03" size="0.008" rgba="0.0 1.0 0.0 0"/>
                              <geom class="gripper_visual" mesh="silicone_pad" material="black"/>
                            </body>
                          </body>
                        </body>
                      </body>
                    </body>
                  </body>
                  


                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </body>


  <!-- copied from sawyer -->
  <body mocap="true" name="mocap" pos="0 0 0">
      <!--For debugging, set the alpha to 1-->
      <!-- <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0.5 0.5 0.5 1" size="0.1 0.02 0.02" type="box"></geom> -->
      <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0.0 0.0 1.0 0.2" size="0.01" type="sphere"></geom>
      <site name="mocap" pos="0 0 0" rgba="0.0 0.0 1.0 0.2" size="0.01" type="sphere"></site>
  </body>


</mujoco>
